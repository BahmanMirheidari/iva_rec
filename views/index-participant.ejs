<% include partials/header.ejs %>
<% include partials/header-participant.ejs %> 
 
<div class="table-wrapper"> 
    <% if (typeof participants !== "undefined" && participants.length > 0) {%>
        <table class="table table-hovered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">ID</th> 
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Male</th> 
                    <th scope="col">DOB</th>
                    <th scope="col">Diagnosis</th>
                    <th scope="col">Active</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                <% participants.forEach((participant, index) => { %>
                    <tr>
                        <th scope="row"><%= participant.id %></th> 
                        <td><%= participant.first_name %></td>
                        <td><%= participant.last_name %></td>
                        <td><%= participant.male %></td> 
                        <td><%= new Date(String(participant.dob)).toJSON().slice(0, 10) %></td> 
                        <td><%= participant.diagnosis %></td> 
                        <td><%= participant.active %></td>
                        <td>
                            <a href="/editparticipant/<%= participant.id %>" class="btn btn-sm btn-primary">Edit</a>
                            <a href="/editparticipantpass/<%= participant.id %>" class="btn btn-sm btn-success">Change pass</a>
                            <a href="/deleteparticipant/<%= participant.id %>" class="btn btn-sm btn-danger">De/activate</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    <% } else { %>
        <p class="text-center">No participants found. Go <a href="/addparticipant" >here</a> to add participants.</p>
    <% } %>
</div>
<% include partials/footer.ejs %>